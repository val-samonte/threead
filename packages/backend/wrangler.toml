name = "threead-backend"
main = "src/index.ts"
compatibility_date = "2025-11-01"

# D1 Database
[[d1_databases]]
binding = "DB"
database_name = "threead-db"
database_id = "" # Will be set after creating database: wrangler d1 create threead-db

# Vectorize (will be created via script)
[[vectorize]]
binding = "VECTORIZE"
index_name = "ads-vectors"

# R2 for image storage
[[r2_buckets]]
binding = "MEDIA_BUCKET"
bucket_name = "threead-media"

# Environment variables (set via wrangler secret)
# SOLANA_RPC_URL - Solana RPC endpoint
# RECIPIENT_WALLET - Wallet to receive payments
# RECIPIENT_TOKEN_ACCOUNT - USDC token account for payments

# Local development
[dev]
port = 8787
ip = "127.0.0.1"

# For services that need remote connections during local dev
# [dev.remote] can be added if needed for Vectorize, R2, etc.

